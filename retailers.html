<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Retailers - Cashtraq</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .retailer-card {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #e0f2f1;
      border-radius: 1rem;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    }
    .retailer-card img {
      width: 60px;
      border-radius: 0.5rem;
      margin-right: 1rem;
    }
    .retailer-card div {
      flex-grow: 1;
    }
    .favourite-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #008080;
      user-select: none;
    }
    .favourite-btn.active {
      color: #004d40;
    }
    @media (min-width: 600px) {
      .container {
        max-width: 600px;
      }
    }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <!-- Dark mode toggle -->
    <button id="darkModeToggle" class="btn secondary" style="position: absolute; top: 1rem; right: 1rem;">ðŸŒ“</button>

    <div class="container">
      <div class="logo">
        <img src="assets/cashtraq_logo.svg" alt="Cashtraq Logo" style="height: 60px;" />
      </div>

      <nav class="nav-links">
        <a href="dashboard.html" class="btn secondary">Dashboard</a>
        <a href="retailers.html" class="btn secondary">Retailers</a>
        <a href="profile.html" class="btn secondary">Profile</a>
      </nav>

      <h2>Retailers & Offers</h2>
      <input type="search" id="searchRetailers" placeholder="Search retailers..." style="margin-bottom:1rem; padding:0.5rem; width: 100%; border-radius: 0.5rem; border: 1px solid #ccc;"/>

      <div id="retailersList">
        <div class="retailer-card">
          <img src="assets/retailer-logo1.png" alt="Supermart" />
          <div>
            <h3>Supermart</h3>
            <p>Cashback: 10%</p>
          </div>
          <button class="btn favourite-btn" aria-label="Add to favourites">â˜†</button>
        </div>

        <div class="retailer-card">
          <img src="assets/retailer-logo2.png" alt="ShopEasy" />
          <div>
            <h3>ShopEasy</h3>
            <p>Cashback: 5%</p>
          </div>
          <button class="btn favourite-btn" aria-label="Add to favourites">â˜†</button>
        </div>

        <div class="retailer-card">
          <img src="assets/retailer-logo3.png" alt="FreshFoods" />
          <div>
            <h3>FreshFoods</h3>
            <p>Cashback: 15%</p>
          </div>
          <button class="btn favourite-btn" aria-label="Add to favourites">â˜†</button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
  <a href="/privacy.html">Privacy Policy</a> |
  <a href="/terms.html">Terms & Conditions</a> |
  <a href="/faq.html">Help / FAQ</a>
</footer>
  </div>

  <!-- Cookie Consent -->
  <div id="cookieConsent">
    <span>
      We use cookies to improve your experience. By using our site, you accept our 
      <a href="privacy.html">Privacy Policy</a>.
    </span>
    <button id="acceptCookies">Accept</button>
  </div>

  <!-- Scripts -->
  <script>
    // Dark mode toggle
    const toggleBtn = document.getElementById('darkModeToggle');
    toggleBtn.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
    });
    if(localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
    }

    // Favourites
    document.querySelectorAll('.favourite-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.classList.toggle('active');
        btn.textContent = btn.classList.contains('active') ? 'â˜…' : 'â˜†';
      });
    });

    // Search filter
    const searchInput = document.getElementById('searchRetailers');
    const retailersList = document.getElementById('retailersList');
    searchInput.addEventListener('input', () => {
      const filter = searchInput.value.toLowerCase();
      const cards = retailersList.getElementsByClassName('retailer-card');
      Array.from(cards).forEach(card => {
        const name = card.querySelector('h3').textContent.toLowerCase();
        card.style.display = name.includes(filter) ? '' : 'none';
      });
    });

    // Cookie consent logic
    const cookieConsent = document.getElementById('cookieConsent');
    const acceptBtn = document.getElementById('acceptCookies');

    if (localStorage.getItem('cookiesAccepted') === 'true') {
      cookieConsent.style.display = 'none';
    }

    acceptBtn.addEventListener('click', () => {
      localStorage.setItem('cookiesAccepted', 'true');
      cookieConsent.style.display = 'none';
    });
  </script>
</body>
</html>
